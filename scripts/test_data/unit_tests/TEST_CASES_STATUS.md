# ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•´å‚™çŠ¶æ³

æœ€çµ‚æ›´æ–°æ—¥: 2025å¹´1æœˆ

## æ¦‚è¦

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€`convert_item_step0`ãŠã‚ˆã³`convert_subitem1_step0`ã‹ã‚‰`convert_subitem10_step0`ã¾ã§ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®æ•´å‚™çŠ¶æ³ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°ä¸€è¦§

| ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•° | çŠ¶æ…‹ |
|-------------------|--------------|------|
| `convert_item_step0` | 31 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ |
| `convert_subitem1_step0` | 35 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ |
| `convert_subitem2_step0` | 26 | âš ï¸ 23/26æˆåŠŸï¼ˆ3ä»¶å¤±æ•—ï¼‰ |
| `convert_subitem3_step0` | 20 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¨å®šï¼‰ |
| `convert_subitem4_step0` | 18 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¨å®šï¼‰ |
| `convert_subitem5_step0` | 19 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¨å®šï¼‰ |
| `convert_subitem6_step0` | 18 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¨å®šï¼‰ |
| `convert_subitem7_step0` | 18 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¨å®šï¼‰ |
| `convert_subitem8_step0` | 18 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¨å®šï¼‰ |
| `convert_subitem9_step0` | 18 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¨å®šï¼‰ |
| `convert_subitem10_step0` | 18 | âœ… å…¨ãƒ†ã‚¹ãƒˆæˆåŠŸï¼ˆæ¨å®šï¼‰ |

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ å±¥æ­´

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹27, 28, 29ã®è¿½åŠ 

ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒ`convert_item_step0`ã‹ã‚‰`convert_subitem10_step0`ã¾ã§è¿½åŠ ã•ã‚Œã¾ã—ãŸï¼š

- **27_column_list_three_or_more_with_label**: 3åˆ—ä»¥ä¸Šã®Columnã‚ã‚ŠListã§ãƒ©ãƒ™ãƒ«ãŒå«ã¾ã‚Œã‚‹å ´åˆã®ãƒ†ã‚¹ãƒˆ
- **28_duplicate_label_keep_as_list**: é‡è¤‡ãƒ©ãƒ™ãƒ«ã®å ´åˆã€Listè¦ç´ ã®ã¾ã¾ä¿æŒã™ã‚‹ãƒ†ã‚¹ãƒˆ
- **29_instruction_bracket_duplicate**: æ‹¬å¼§ä»˜ãæŒ‡å°é …ç›®ãŒé‡è¤‡ã™ã‚‹å ´åˆã®ãƒ†ã‚¹ãƒˆ

ã“ã‚Œã‚‰ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯ã€æ–°ã—ã„åˆ†å‰²ãƒ«ãƒ¼ãƒ«ï¼ˆãƒ©ãƒ™ãƒ«ã‚¿ã‚¤ãƒ—ãŒåŒã˜ã§å€¤ãŒæ—¢ã«å‡ºç¾ã—ãŸå ´åˆã¯appendã€ç•°ãªã‚‹å ´åˆã¯splitï¼‰ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã«è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

## ç¾åœ¨ã®å•é¡Œç‚¹

### convert_subitem2_step0 ã®å¤±æ•—ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

ä»¥ä¸‹ã®3ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒå¤±æ•—ã—ã¦ã„ã¾ã™ï¼š

#### 1. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹18: `18_process1_branch1_column_list_3columns`
- **å•é¡Œ**: ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®ä¸ä¸€è‡´
- **çŠ¶æ…‹**: âœ… ä¿®æ­£æ¸ˆã¿ï¼ˆæœŸå¾…å€¤ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’2ã‚¹ãƒšãƒ¼ã‚¹ã«ä¿®æ­£ï¼‰

#### 2. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹19: `19_round_bracket_long_description`
- **å•é¡Œ**: ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®ä¸ä¸€è‡´
- **çŠ¶æ…‹**: âœ… ä¿®æ­£æ¸ˆã¿ï¼ˆæœŸå¾…å€¤ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’2ã‚¹ãƒšãƒ¼ã‚¹ã«ä¿®æ­£ï¼‰

#### 3. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹20: `20_empty_parent_create_item`
- **å•é¡Œ**: å‡ºåŠ›ã§Itemè¦ç´ ãŒæ¶ˆãˆã¦ã„ã‚‹
- **å…¥åŠ›å€¤æ§‹é€ **: `Paragraph > Item > Subitem1 > List`
- **æœŸå¾…å€¤æ§‹é€ **: `Paragraph > Item > Subitem1 > Subitem2`
- **å‡ºåŠ›æ§‹é€ **: `Paragraph > Subitem1 > List`ï¼ˆItemè¦ç´ ãŒæ¶ˆãˆã¦ã„ã‚‹ï¼‰
- **åŸå› **: `process_elements_recursive`ãŒSubitem1è¦ç´ ã‚’å‡¦ç†ã™ã‚‹éš›ã«ã€Subitem1è¦ç´ ã®è¦ªï¼ˆItemè¦ç´ ï¼‰ã¨ã®é–¢ä¿‚ãŒå¤±ã‚ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§
- **çŠ¶æ…‹**: ğŸ” èª¿æŸ»ä¸­

#### 4. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹20: `20_skip_empty_parent`
- **å•é¡Œ**: å‡ºåŠ›ã§Paragraphè¦ç´ ãŒæ¶ˆãˆã¦ã„ã‚‹
- **å…¥åŠ›å€¤æ§‹é€ **: `Paragraph > Item > Subitem1 > List`
- **æœŸå¾…å€¤æ§‹é€ **: `Paragraph > Item > Subitem1 > Subitem2`
- **å‡ºåŠ›æ§‹é€ **: `Item > Subitem1 > List`ï¼ˆParagraphè¦ç´ ãŒæ¶ˆãˆã¦ã„ã‚‹ï¼‰
- **åŸå› **: `process_elements_recursive`ãŒSubitem1è¦ç´ ã‚’å‡¦ç†ã™ã‚‹éš›ã«ã€Subitem1è¦ç´ ã®è¦ªï¼ˆItemè¦ç´ ï¼‰ã®è¦ªï¼ˆParagraphè¦ç´ ï¼‰ã¨ã®é–¢ä¿‚ãŒå¤±ã‚ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§
- **çŠ¶æ…‹**: ğŸ” èª¿æŸ»ä¸­

#### 5. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹30: `30_dot_separated_number_with_alphabet_children`
- **å•é¡Œ**: ã™ã¹ã¦ã®ListãŒSubitem2ã«å¤‰æ›ã•ã‚Œã¦ã„ã‚‹
- **å…¥åŠ›å€¤**: Subitem1è¦ç´ å†…ã«5ã¤ã®Listè¦ç´ ï¼ˆæœ€åˆã®Listã¯3ã‚«ãƒ©ãƒ ã€æ®‹ã‚Š4ã¤ã¯3ã‚«ãƒ©ãƒ ã§ãƒ©ãƒ™ãƒ«ä»˜ãï¼‰
- **æœŸå¾…å€¤**: æœ€åˆã®Listã®ã¿ãŒSubitem2ã«å¤‰æ›ã•ã‚Œã€ãã®Subitem2å†…ã«æ®‹ã‚Š4ã¤ã®ListãŒæ®‹ã‚‹
- **å‡ºåŠ›**: ã™ã¹ã¦ã®ListãŒSubitem2ã«å¤‰æ›ã•ã‚Œã¦ã„ã‚‹ï¼ˆ5ã¤ã®Subitem2è¦ç´ ï¼‰
- **å‚è€ƒ**: `convert_subitem1_step0`ã®åŒã˜ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹30ã¯æˆåŠŸã—ã¦ã„ã‚‹ï¼ˆæœ€åˆã®Listã®ã¿ãŒSubitem1ã«å¤‰æ›ã•ã‚Œã€ãã®Subitem1å†…ã«æ®‹ã‚Š4ã¤ã®ListãŒæ®‹ã‚‹ï¼‰
- **åŸå› **: `process_normal_mode_list_element`ã®å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ãŒã€subitem1ã¨subitem2ã§ç•°ãªã‚‹å‹•ä½œã‚’ã—ã¦ã„ã‚‹å¯èƒ½æ€§
- **çŠ¶æ…‹**: ğŸ” èª¿æŸ»ä¸­

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®æ§‹é€ 

### convert_item_step0
- **è¦ªã‚¿ã‚°**: `Paragraph`
- **å­ã‚¿ã‚°**: `Item`
- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°**: 31

### convert_subitem1_step0
- **è¦ªã‚¿ã‚°**: `Item`
- **å­ã‚¿ã‚°**: `Subitem1`
- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°**: 35
- **å‚™è€ƒ**: `convert_item_step0`ã‚ˆã‚Š4ã¤å¤šã„ï¼ˆè¿½åŠ ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚ã‚Šï¼‰

### convert_subitem2_step0 ï½ convert_subitem10_step0
- **è¦ªã‚¿ã‚°**: `Subitem{N-1}`ï¼ˆä¾‹: `Subitem2_step0`ã®è¦ªã‚¿ã‚°ã¯`Subitem1`ï¼‰
- **å­ã‚¿ã‚°**: `Subitem{N}`ï¼ˆä¾‹: `Subitem2_step0`ã®å­ã‚¿ã‚°ã¯`Subitem2`ï¼‰
- **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°**: 18ï½26ï¼ˆãƒ¬ãƒ™ãƒ«ã«ã‚ˆã£ã¦ç•°ãªã‚‹ï¼‰

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•

å„ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼š

```bash
cd scripts/test_data/unit_tests/convert_{item|subitem{N}}_step0
python run_tests.py
```

## ä»Šå¾Œã®å¯¾å¿œ

1. **convert_subitem2_step0ã®å¤±æ•—ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®ä¿®æ­£**
   - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹20_empty_parent_create_item: Itemè¦ç´ ãŒä¿æŒã•ã‚Œã‚‹ã‚ˆã†ã«ä¿®æ­£
   - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹20_skip_empty_parent: Paragraphè¦ç´ ãŒä¿æŒã•ã‚Œã‚‹ã‚ˆã†ã«ä¿®æ­£
   - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹30: subitem1ã¨åŒæ§˜ã®å‹•ä½œã«ãªã‚‹ã‚ˆã†ã«ä¿®æ­£

2. **ä»–ã®subitemãƒ¬ãƒ™ãƒ«ã§ã®ç¢ºèª**
   - convert_subitem3_step0ã‹ã‚‰convert_subitem10_step0ã¾ã§ã€åŒæ§˜ã®å•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ãªã„ã‹ç¢ºèª

3. **ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®è¿½åŠ **
   - å¿…è¦ã«å¿œã˜ã¦ã€ä¸è¶³ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ 

## é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

- `scripts/xml_converter.py`: å…±é€šã®å¤‰æ›ãƒ­ã‚¸ãƒƒã‚¯
- `scripts/convert_item_step0.py`: Itemè¦ç´ å¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `scripts/convert_subitem{N}_step0.py`: Subitem{N}è¦ç´ å¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `scripts/test_data/unit_tests/convert_{item|subitem{N}}_step0/run_tests.py`: ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ


