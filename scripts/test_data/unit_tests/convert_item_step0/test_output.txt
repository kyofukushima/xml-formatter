convert_item_step0.py 単体テスト実行
==================================================

=== テスト実行: 01_process1_branch1_column_list ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/01_process1_branch1_column_list/expected.xml
DEBUG: expected_content length: 430
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 391
DEBUG: expected_normalized length: 391
DEBUG: actual_normalized == expected_normalized: True
✅ テスト成功: 出力が期待値と一致します

=== テスト実行: 02_process1_branch2_1_no_column_list ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/02_process1_branch2_1_no_column_list/expected.xml
DEBUG: expected_content length: 530
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 491
DEBUG: expected_normalized length: 491
DEBUG: actual_normalized == expected_normalized: True
✅ テスト成功: 出力が期待値と一致します

=== テスト実行: 03_process1_branch2_2_subject_bracket ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/03_process1_branch2_2_subject_bracket/expected.xml
DEBUG: expected_content length: 405
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 366
DEBUG: expected_normalized length: 366
DEBUG: actual_normalized == expected_normalized: True
✅ テスト成功: 出力が期待値と一致します

=== テスト実行: 04_process1_branch2_3_instruction_bracket ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/04_process1_branch2_3_instruction_bracket/expected.xml
DEBUG: expected_content length: 407
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 368
DEBUG: expected_normalized length: 368
DEBUG: actual_normalized == expected_normalized: True
✅ テスト成功: 出力が期待値と一致します

=== テスト実行: 05_process1_branch3_non_list ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/05_process1_branch3_non_list/expected.xml
DEBUG: expected_content length: 522
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 483
DEBUG: expected_normalized length: 483
DEBUG: actual_normalized == expected_normalized: True
✅ テスト成功: 出力が期待値と一致します

=== テスト実行: 06_process2_split_and_aggregate ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/06_process2_split_and_aggregate/expected.xml
DEBUG: expected_content length: 744
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 705
DEBUG: expected_normalized length: 705
DEBUG: actual_normalized == expected_normalized: True
✅ テスト成功: 出力が期待値と一致します

=== テスト実行: 07_process1_branch2_1_2_grade_single_bracket ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/07_process1_branch2_1_2_grade_single_bracket/expected.xml
DEBUG: expected_content length: 407
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 368
DEBUG: expected_normalized length: 368
DEBUG: actual_normalized == expected_normalized: True
✅ テスト成功: 出力が期待値と一致します

=== テスト実行: 08_process1_branch2_1_1_grade_double_bracket ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/08_process1_branch2_1_1_grade_double_bracket/expected.xml
DEBUG: expected_content length: 413
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 374
DEBUG: expected_normalized length: 374
DEBUG: actual_normalized == expected_normalized: True
✅ テスト成功: 出力が期待値と一致します

=== テスト実行: 09_process2_split_grade_patterns ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/09_process2_split_grade_patterns/expected.xml
DEBUG: expected_content length: 693
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 635
DEBUG: expected_normalized length: 654
DEBUG: actual_normalized == expected_normalized: False
❌ テスト失敗: 出力が期待値と一致しません

差分:
--- expected.xml
+++ output.xml
@@ -15,12 +15,11 @@
             <Sentence Num="1">〔第３学年及び第４学年〕</Sentence>
           </ListSentence>
         </List>
-      </Item>
-      <Item Num="2">
-        <ItemTitle/>
-        <ItemSentence>
-          <Sentence Num="1">〔医療と社会〕</Sentence>
-        </ItemSentence>
+        <List>
+          <ListSentence>
+            <Sentence Num="1">〔医療と社会〕</Sentence>
+          </ListSentence>
+        </List>
       </Item>
     </Paragraph>
   </LawBody>


=== テスト実行: 10_process_mixed_subject_instruction ===
✅ スクリプト実行成功
DEBUG: expected_file path: /Users/fukushima/Documents/xml_anken/education_xml/scripts/test_data/unit_tests/convert_item_step0/10_process_mixed_subject_instruction/expected.xml
DEBUG: expected_content length: 673
DEBUG: expected_content start: <?xml version="1.0" encoding="UTF-8"?>
<Law>
  <LawBody>
    <Paragraph Num="1">
      <ParagraphNum
DEBUG: actual_normalized length: 632
DEBUG: expected_normalized length: 634
DEBUG: actual_normalized == expected_normalized: False
❌ テスト失敗: 出力が期待値と一致しません

差分:
--- expected.xml
+++ output.xml
@@ -17,7 +17,7 @@
         </List>
         <List>
           <ListSentence>
-              <Sentence Num="1">〔国語〕</Sentence>
+            <Sentence Num="1">〔国語〕</Sentence>
           </ListSentence>
         </List>
       </Item>


==================================================
テスト結果: 8/10 成功
⚠️ 一部のテストが失敗しました。
