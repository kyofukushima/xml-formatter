# æ¨å¥¨å®Ÿè£…æˆ¦ç•¥

**ä½œæˆæ—¥**: 2025å¹´10æœˆ27æ—¥  
**ç›®çš„**: Phase 1å®Œäº†å¾Œã®æœ€é©ãªé€²ã‚æ–¹ã‚’ææ¡ˆ

---

## ğŸ“Š ç¾åœ¨ã®çŠ¶æ³

### å®Œäº†ã—ãŸä½œæ¥­
| ãƒ•ã‚§ãƒ¼ã‚º | æ©Ÿèƒ½ | çŠ¶æ…‹ | æ¤œè¨¼ |
|---------|------|------|------|
| Phase 0 | Articleåˆ†å‰² | âœ… å®Œäº† | âœ… test_input5.xmlã§å‹•ä½œç¢ºèªæ¸ˆã¿ |
| Phase 0.5 | ãƒ©ãƒ™ãƒ«åˆ†é›¢ | âœ… å®Œäº† | âœ… å˜ä½“ãƒ†ã‚¹ãƒˆæˆåŠŸ |
| Phase 1 | éšå±¤åˆ¤å®š | âœ… å®Œäº† | âœ… å˜ä½“ãƒ†ã‚¹ãƒˆæˆåŠŸ |

### æ®‹ã£ã¦ã„ã‚‹ä½œæ¥­
| ãƒ•ã‚§ãƒ¼ã‚º | æ©Ÿèƒ½ | å¯¾å¿œæ•° | é‡è¦åº¦ |
|---------|------|--------|--------|
| Phase 1çµ±åˆãƒ†ã‚¹ãƒˆ | test_input5.xmlå…¨ä½“ | - | ğŸŸ¡ ä¸­ |
| Phase 2 | è¤‡é›‘ãƒ‘ã‚¿ãƒ¼ãƒ³å‡¦ç† | 44å€‹ | ğŸŸ¡ ä¸­ |
| Phase 3 | è§’æ‹¬å¼§ç§‘ç›®å | 14å€‹ | ğŸ”´ é«˜ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡æ‘˜ï¼‰ |

---

## ğŸ¯ æ¨å¥¨ã™ã‚‹é€²ã‚æ–¹

### æ¨å¥¨: **æ®µéšçš„å®Ÿè£…ï¼‹è»½é‡æ¤œè¨¼ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**

```
ã‚¹ãƒ†ãƒƒãƒ—1: è»½é‡ãªçµ±åˆãƒ†ã‚¹ãƒˆï¼ˆPhase 1ã®å‹•ä½œç¢ºèªï¼‰
  â†“
ã‚¹ãƒ†ãƒƒãƒ—2: Phase 2å®Ÿè£…ï¼ˆè¤‡é›‘ãƒ‘ã‚¿ãƒ¼ãƒ³å‡¦ç†ï¼‰
  â†“
ã‚¹ãƒ†ãƒƒãƒ—3: Phase 3å®Ÿè£…ï¼ˆè§’æ‹¬å¼§ç§‘ç›®åãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
  â†“
ã‚¹ãƒ†ãƒƒãƒ—4: æœ€çµ‚çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆtest_input5.xmlå…¨ä½“ï¼‰
```

---

## ğŸ“‹ è©³ç´°ãªæ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: è»½é‡ãªçµ±åˆãƒ†ã‚¹ãƒˆï¼ˆæ¨å®š: 10-15åˆ†ï¼‰

**ç›®çš„**: Phase 1ã®åŸºæœ¬æ©Ÿèƒ½ãŒå®Ÿéš›ã®XMLã§å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª

**æ–¹æ³•**:
1. test_input5.xmlã®ä¸€éƒ¨ï¼ˆ100-200è¡Œï¼‰ã‚’æŠ½å‡º
2. å¤‰æ›å®Ÿè¡Œ
3. éšå±¤æ§‹é€ ãŒæ­£ã—ãæ§‹ç¯‰ã•ã‚Œã¦ã„ã‚‹ã‹ç›®è¦–ç¢ºèª

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… å®Ÿè¡Œæ™‚é–“ãŒçŸ­ã„
- âœ… å•é¡ŒãŒã‚ã‚Œã°æ—©æœŸç™ºè¦‹
- âœ… Phase 2, 3å®Ÿè£…å‰ã®åŸºç›¤ç¢ºèª

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¾‹**:
```bash
# test_input5.xmlã®æœ€åˆã®200è¡Œã‚’æŠ½å‡º
head -200 test_input5.xml > test_input5_sample.xml
# æœ€å¾Œã«</Law>ã‚’è¿½åŠ ã—ã¦å®Œçµã•ã›ã‚‹
echo "</Law>" >> test_input5_sample.xml

# å¤‰æ›å®Ÿè¡Œ
python3 convert_list_unified.py test_input5_sample.xml test_output5_sample.xml
```

---

### ã‚¹ãƒ†ãƒƒãƒ—2: Phase 2å®Ÿè£…ï¼ˆæ¨å®š: 1-2æ™‚é–“ï¼‰

**ç›®çš„**: è¤‡é›‘ãƒ‘ã‚¿ãƒ¼ãƒ³å‡¦ç†ï¼ˆå…ˆèª­ã¿+ç©ºè¦ç´ æŒ¿å…¥ï¼‰ã‚’å®Ÿè£…

**å®Ÿè£…å†…å®¹**:
1. `lookahead_next_label()`ã®æ´»ç”¨
2. `needs_intermediate_element()`ã®å®Ÿè£…
3. ç©ºã®ä¸­é–“è¦ç´ ã®è‡ªå‹•æŒ¿å…¥

**å¯¾è±¡**: 44å€‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è©³ç´°è¨˜è¼‰ã‚ã‚Šï¼ˆ520-761è¡Œç›®ï¼‰
- âœ… å®Ÿè£…ä¾‹ãƒ»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒæ˜ç¢º
- âœ… æ®µéšçš„ã«æ©Ÿèƒ½ã‚’è¿½åŠ 

---

### ã‚¹ãƒ†ãƒƒãƒ—3: Phase 3å®Ÿè£…ï¼ˆæ¨å®š: 1-2æ™‚é–“ï¼‰

**ç›®çš„**: è§’æ‹¬å¼§ç§‘ç›®åãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆã€”äººä½“ã®æ§‹é€ ã¨æ©Ÿèƒ½ã€•ãªã©ï¼‰ã‚’å®Ÿè£…

**å®Ÿè£…å†…å®¹**:
1. `detect_subject_label()`ã®å®Ÿè£…
2. å¾Œç¶šãƒ©ãƒ™ãƒ«ã‹ã‚‰ã®éšå±¤é€†ç®—
3. ç©ºã®Titleè¦ç´ ã®æŒ¿å…¥

**å¯¾è±¡**: 14å€‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³

**é‡è¦æ€§**: ğŸ”´ **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰æ˜ç¤ºçš„ã«æŒ‡æ‘˜ã•ã‚ŒãŸæ©Ÿèƒ½**

**ãƒ¡ãƒªãƒƒãƒˆ**:
- âœ… ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è©³ç´°è¨˜è¼‰ã‚ã‚Šï¼ˆ972-1199è¡Œç›®ï¼‰
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æœ›ã«ç›´æ¥å¯¾å¿œ
- âœ… æ¯”è¼ƒçš„å®Ÿè£…é‡ãŒå°‘ãªã„

---

### ã‚¹ãƒ†ãƒƒãƒ—4: æœ€çµ‚çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆæ¨å®š: å®Ÿè¡Œæ™‚é–“ä¸æ˜ï¼‰

**ç›®çš„**: ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’çµ±åˆã—ã¦test_input5.xmlå…¨ä½“ã§æ¤œè¨¼

**æ–¹æ³•**:
```bash
python3 convert_list_unified.py test_input5.xml test_output5_complete.xml

# çµæœã®æ¯”è¼ƒ
diff test_output5.xml test_output5_complete.xml | head -100
```

**æœŸå¾…ã•ã‚Œã‚‹çµæœ**:
- âœ… Phase 0, 0.5, 1, 2, 3ã®å…¨æ©Ÿèƒ½ãŒå‹•ä½œ
- âœ… test_output5.xmlã¨ã®å·®ç•°ãŒæœ€å°åŒ–

---

## ğŸ”€ ä»£æ›¿æ¡ˆ: çµ±åˆãƒ†ã‚¹ãƒˆå„ªå…ˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

```
ã‚¹ãƒ†ãƒƒãƒ—1: test_input5.xmlå…¨ä½“ã§ã®çµ±åˆãƒ†ã‚¹ãƒˆ
  â†“
ã‚¹ãƒ†ãƒƒãƒ—2: å•é¡Œç‚¹ã®æ´—ã„å‡ºã—
  â†“
ã‚¹ãƒ†ãƒƒãƒ—3: Phase 2, 3ã®å®Ÿè£…
  â†“
ã‚¹ãƒ†ãƒƒãƒ—4: å†åº¦çµ±åˆãƒ†ã‚¹ãƒˆ
```

**ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ**:
- âŒ å®Ÿè¡Œæ™‚é–“ãŒé•·ã„ï¼ˆã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚ŒãŸå®Ÿç¸¾ã‚ã‚Šï¼‰
- âŒ å¤šæ•°ã®å•é¡ŒãŒä¸€åº¦ã«è¦‹ã¤ã‹ã‚‹å¯èƒ½æ€§
- âŒ Phase 2, 3æœªå®Ÿè£…ã®çŠ¶æ…‹ã§ã®çµæœã¯å‚è€ƒç¨‹åº¦

---

## ğŸ’¡ æ¨å¥¨ç†ç”±

### ãªãœæ®µéšçš„å®Ÿè£…ï¼‹è»½é‡æ¤œè¨¼ã‚’æ¨å¥¨ã™ã‚‹ã‹

#### 1. ãƒªã‚¹ã‚¯ã®æœ€å°åŒ–
- Phase 1ã®åŸºæœ¬æ©Ÿèƒ½ã‚’è»½é‡ãƒ†ã‚¹ãƒˆã§ç¢ºèª
- å•é¡ŒãŒã‚ã‚Œã°æ—©æœŸç™ºè¦‹ãƒ»ä¿®æ­£
- Phase 2, 3å®Ÿè£…å‰ã®åŸºç›¤ãŒå®‰å®š

#### 2. åŠ¹ç‡æ€§
- å°è¦æ¨¡ãƒ†ã‚¹ãƒˆã¯å®Ÿè¡Œæ™‚é–“ãŒçŸ­ã„
- æ®µéšçš„ã«æ©Ÿèƒ½ã‚’è¿½åŠ ã§ãã‚‹
- å•é¡Œã®åˆ‡ã‚Šåˆ†ã‘ãŒå®¹æ˜“

#### 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æœ›ã¸ã®å¯¾å¿œ
- è§’æ‹¬å¼§ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆPhase 3ï¼‰ã‚’å„ªå…ˆå®Ÿè£…
- ã™ã¹ã¦ã®æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã‹ã‚‰æœ€çµ‚æ¤œè¨¼

#### 4. å®Ÿè£…ã®ç¢ºå®Ÿæ€§
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è©³ç´°ãªå®Ÿè£…ä¾‹ã‚ã‚Š
- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒæ˜ç¢º
- æ®µéšçš„ãªæ¤œè¨¼ã§å“è³ªã‚’æ‹…ä¿

---

## ğŸ“ˆ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ï¼ˆæ¨å®šï¼‰

| ã‚¹ãƒ†ãƒƒãƒ— | å†…å®¹ | æ¨å®šæ™‚é–“ | ç´¯è¨ˆ |
|---------|------|---------|------|
| ã‚¹ãƒ†ãƒƒãƒ—1 | è»½é‡çµ±åˆãƒ†ã‚¹ãƒˆ | 10-15åˆ† | 15åˆ† |
| ã‚¹ãƒ†ãƒƒãƒ—2 | Phase 2å®Ÿè£… | 1-2æ™‚é–“ | 2.25æ™‚é–“ |
| ã‚¹ãƒ†ãƒƒãƒ—3 | Phase 3å®Ÿè£… | 1-2æ™‚é–“ | 4.25æ™‚é–“ |
| ã‚¹ãƒ†ãƒƒãƒ—4 | æœ€çµ‚çµ±åˆãƒ†ã‚¹ãƒˆ | 15-30åˆ† | 4.5-5æ™‚é–“ |

**åˆè¨ˆ**: ç´„4.5-5æ™‚é–“ã§å…¨æ©Ÿèƒ½ã®å®Ÿè£…ã¨æ¤œè¨¼ãŒå®Œäº†

---

## âœ… æœ€çµ‚æ¨å¥¨

### ğŸ¯ æ¨å¥¨: **æ®µéšçš„å®Ÿè£…ï¼‹è»½é‡æ¤œè¨¼ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**

**ç†ç”±**:
1. âœ… ãƒªã‚¹ã‚¯ãŒä½ã„ï¼ˆæ®µéšçš„ãªæ¤œè¨¼ï¼‰
2. âœ… åŠ¹ç‡çš„ï¼ˆå•é¡Œã®æ—©æœŸç™ºè¦‹ï¼‰
3. âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æœ›ã«å¯¾å¿œï¼ˆè§’æ‹¬å¼§ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
4. âœ… ç¢ºå®Ÿæ€§ãŒé«˜ã„ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå®Œå‚™ï¼‰

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**:
```bash
# ã‚¹ãƒ†ãƒƒãƒ—1: è»½é‡ãªçµ±åˆãƒ†ã‚¹ãƒˆ
head -200 test_input5.xml > test_input5_sample.xml
echo "</LawBody></Law>" >> test_input5_sample.xml
python3 convert_list_unified.py test_input5_sample.xml test_output5_sample.xml
```

---

**ä½œæˆæ—¥**: 2025å¹´10æœˆ27æ—¥  
**ãƒ•ã‚¡ã‚¤ãƒ«**: `/Users/fukushima/Documents/xml_anken/gyosei-xml/scripts/education_script/reports/æ¨å¥¨å®Ÿè£…æˆ¦ç•¥.md`

