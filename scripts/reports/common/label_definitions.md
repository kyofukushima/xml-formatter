# 項目ラベル定義（共通）

このドキュメントは、すべてのロジックドキュメントで共通して使用される項目ラベルの定義を記載しています。

## 項目ラベルについて

項目ラベルとは、要素の分割や階層の変更に関係する、文章の区切りを示す文字列群である

次のパターンが存在する。

| パターン名 | 正規表現 | 例 | 変換先候補 |
|-----------|---------|-----|-----------|
| **数字** | `^[０-９0-9]+$` | １、２、３、1、2、3 | Paragraph / Item |
| **括弧数字** | `^[（(][０-９0-9]+[）)]$` | （１）、（２）、(1)、(2) | Item / Subitem1 |
| **カタカナ** | `^[ア-ヴ]+$` | ア、イ、ウ、エ、オ | Subitem1 / Subitem2 |
| **括弧カタカナ** | `^[（(][ア-ヴ]+[）)]$` | （ア）、（イ）、(ア)、(イ) | Subitem2 / Subitem3 |
| **二重括弧カタカナ** | `^[（(]{2}[ア-ヴ]+[）)]{2}$` | （（ア））、（（イ））、((ア))、((イ)) | Subitem3 / Subitem4 |
| **小文字アルファベット** | `^[a-z]+$` | a、b、c | Subitem3 / Subitem4 |
| **全角小文字アルファベット** | `^[ａ-ｚ]+$` | ａ、ｂ、ｃ | Subitem3 / Subitem4 |
| **大文字アルファベット** | `^[A-Z]+$` | A、B、C | Subitem3 / Subitem4 |
| **全角大文字アルファベット** | `^[Ａ-Ｚ]+$` | Ａ、Ｂ、Ｃ | Subitem3 / Subitem4 |
| **括弧小文字アルファベット** | `^[（(][a-z]+[）)]$` | （a）、（b）、(a)、(b) | Subitem4 / Subitem5 |
| **括弧全角小文字アルファベット** | `^[（(][ａ-ｚ]+[）)]$` | （ａ）、（ｂ）、(ａ)、(ｂ) | Subitem4 / Subitem5 |
| **第○パターン** | `^第[0-9０-９一二三四五六七八九十百千]+$` | 第１、第２、第一、第二 | Article（分割） |
| **括弧科目名** | `^〔.+〕$` | 〔医療と社会〕、〔指導項目〕 | Item（特殊） |
| **空** | `^$` | （空文字） | 継承または省略 |

## 階層レベルの種類

| 番号 | ラベルの種類 | 例 | XML要素の目安 |
|----------|------------|-----|---------------|
| **0** | 第○パターン | 第１、第２ | `Article`（分割） |
| **1** | 数字 | １、２、３ | `Paragraph` または `Item` |
| **2** | 括弧数字 | （１）、（２） | `Item` または `Subitem1` |
| **3** | カタカナ | ア、イ、ウ | `Subitem1` または `Subitem2` |
| **4** | 括弧カタカナ | （ア）、（イ） | `Subitem2` または `Subitem3` |
| **5** | 二重括弧カタカナ | （（ア））、（（イ）） | `Subitem3` または `Subitem4` |
| **6** | アルファベット | a、b、A、B | `Subitem3` 以降 |
| **7** | 括弧アルファベット | （a）、（ａ） | `Subitem4` 以降 |
| **8** | 括弧科目名 | 〔医療と社会〕 | 階層レベルに影響（特殊処理） |
| **9** | 空 | （空文字） | 親要素を継承 |

## パターン判定の優先順位

同じラベルが複数のパターンにマッチする可能性がある場合、以下の優先順位でチェックする：

1. **括弧科目名**（`〔XXX〕`）- 最優先
2. **第○パターン**（`第○`）- Article分割
3. **二重括弧カタカナ**（`（（ア））`）- より具体的なパターンから先にチェック
4. **括弧アルファベット**（`（a）`）
5. **括弧カタカナ**（`（ア）`）
6. **括弧数字**（`（１）`）
7. **カタカナ**（`ア`）- 括弧なし
8. **アルファベット**（`a、A`）- 括弧なし
9. **数字**（`１`）- 括弧なし
10. **空** - 最後

---

**このファイルを参照しているドキュメント:**
- logic2_2_Paragraph_text.md
- logic2_3_Paragraph_textitem.md
- logic2_4_ParagraphSplitSentence.md
- その他の階層ロジックドキュメント
